<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DVD Screensaver</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            overflow: hidden;
        }

        .logo {
            position: absolute;
            font-size: 48px;
            font-weight: 700;
            white-space: nowrap;
            user-select: none;
            cursor: pointer;
            transition: color 0.1s ease;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .controls {
            backdrop-filter: blur(10px);
            background: rgba(0, 0, 0, 0.6);
        }

        .corner-hit {
            animation: pulse 0.3s ease-out;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.2);
            }

            100% {
                transform: scale(1);
            }
        }

        .glow {
            animation: glow 0.5s ease-out;
        }

        @keyframes glow {
            0% {
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7);
            }

            100% {
                box-shadow: 0 0 0 20px rgba(255, 255, 255, 0);
            }
        }
    </style>
</head>

<body class="bg-gray-900 min-h-screen">
    <div id="screen" class="relative w-full h-screen">
        <!-- Corner hit display -->
        <div id="cornerDisplay" class="controls fixed top-4 left-1/2 -translate-x-1/2 px-6 py-3 rounded-full z-50">
            <div class="flex items-center gap-4">
                <span class="text-white/70 text-sm">Corner Hits</span>
                <span id="cornerCounter" class="text-3xl font-bold text-white corner-hit">0</span>
                <span id="cornerFlash" class="hidden text-2xl">üéØ</span>
            </div>
        </div>

        <!-- Controls -->
        <div id="controls" class="controls fixed bottom-4 left-1/2 -translate-x-1/2 px-6 py-4 rounded-xl z-50">
            <div class="flex flex-wrap items-center justify-center gap-4">
                <div class="flex items-center gap-2">
                    <label class="text-white/70 text-sm">Speed:</label>
                    <input type="range" id="speedSlider" min="1" max="15" value="5" class="w-24 accent-purple-500">
                </div>
                <div class="flex items-center gap-2">
                    <label class="text-white/70 text-sm">Logos:</label>
                    <input type="range" id="logoSlider" min="1" max="10" value="1" class="w-24 accent-purple-500">
                </div>
                <div class="flex items-center gap-2">
                    <label class="text-white/70 text-sm">Size:</label>
                    <input type="range" id="sizeSlider" min="20" max="100" value="48" class="w-24 accent-purple-500">
                </div>
                <button id="resetBtn"
                    class="px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg text-sm font-semibold transition-colors">
                    Reset
                </button>
                <button id="toggleControls"
                    class="px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm transition-colors">
                    Hide
                </button>
            </div>
        </div>

        <!-- Hidden controls button -->
        <button id="showControls"
            class="controls fixed bottom-4 left-1/2 -translate-x-1/2 px-4 py-2 rounded-xl z-50 hidden">
            <span class="text-white">‚öôÔ∏è Show Controls</span>
        </button>
    </div>

    <script>
        const screen = document.getElementById('screen');
        const cornerCounter = document.getElementById('cornerCounter');
        const cornerFlash = document.getElementById('cornerFlash');
        const speedSlider = document.getElementById('speedSlider');
        const logoSlider = document.getElementById('logoSlider');
        const sizeSlider = document.getElementById('sizeSlider');
        const resetBtn = document.getElementById('resetBtn');
        const controls = document.getElementById('controls');
        const toggleControls = document.getElementById('toggleControls');
        const showControls = document.getElementById('showControls');

        let cornerHits = 0;
        let logos = [];
        let speed = 5;
        let numLogos = 1;
        let logoSize = 48;

        // DVD colors for the logo
        const colors = [
            '#FF6B6B', // Red
            '#4ECDC4', // Teal
            '#45B7D1', // Blue
            '#96CEB4', // Green
            '#FFEAA7', // Yellow
            '#DDA0DD', // Plum
            '#98D8C8', // Mint
            '#F7DC6F', // Golden
            '#BB8FCE', // Purple
            '#85C1E9', // Light Blue
            '#F8B500', // Orange
            '#FF69B4', // Pink
        ];

        const logoTexts = ['DVD', 'DVD', 'DVD', 'DVD'];

        class Logo {
            constructor(index) {
                this.index = index;
                this.element = document.createElement('div');
                this.element.className = 'logo';
                this.element.textContent = logoTexts[index % logoTexts.length];
                screen.appendChild(this.element);

                this.reset();
            }

            reset() {
                const rect = screen.getBoundingClientRect();
                this.width = this.element.offsetWidth;
                this.height = this.element.offsetHeight;

                // Random starting position
                this.x = Math.random() * (rect.width - this.width);
                this.y = Math.random() * (rect.height - this.height);

                // Random direction
                const angle = Math.random() * Math.PI * 2;
                this.dx = Math.cos(angle);
                this.dy = Math.sin(angle);

                // Random initial color
                this.color = colors[Math.floor(Math.random() * colors.length)];
                this.updateColor();
            }

            updateColor() {
                this.element.style.color = this.color;
                this.element.style.fontSize = `${logoSize}px`;
            }

            changeColor() {
                // Pick a random color different from current
                let newColor;
                do {
                    newColor = colors[Math.floor(Math.random() * colors.length)];
                } while (newColor === this.color);
                this.color = newColor;
                this.updateColor();
            }

            move() {
                const rect = screen.getBoundingClientRect();
                const cornerThreshold = 50; // Distance from corner to count as corner hit

                this.width = this.element.offsetWidth;
                this.height = this.element.offsetHeight;

                let hitCorner = false;
                let hitWall = false;

                // Check boundaries and bounce
                if (this.x <= 0) {
                    this.x = 0;
                    this.dx = Math.abs(this.dx);
                    hitWall = true;
                    // Check if hitting top-left corner
                    if (this.y <= cornerThreshold) hitCorner = true;
                } else if (this.x + this.width >= rect.width) {
                    this.x = rect.width - this.width;
                    this.dx = -Math.abs(this.dx);
                    hitWall = true;
                    // Check if hitting top-right or bottom-right corner
                    if (this.y <= cornerThreshold || this.y + this.height >= rect.height - cornerThreshold) hitCorner = true;
                }

                if (this.y <= 0) {
                    this.y = 0;
                    this.dy = Math.abs(this.dy);
                    hitWall = true;
                    // Check if hitting top-left or top-right corner
                    if (this.x <= cornerThreshold || this.x + this.width >= rect.width - cornerThreshold) hitCorner = true;
                } else if (this.y + this.height >= rect.height) {
                    this.y = rect.height - this.height;
                    this.dy = -Math.abs(this.dy);
                    hitWall = true;
                    // Check if hitting bottom-left or bottom-right corner
                    if (this.x <= cornerThreshold || this.x + this.width >= rect.width - cornerThreshold) hitCorner = true;
                }

                if (hitWall) {
                    this.changeColor();
                }

                if (hitCorner) {
                    incrementCornerHit();
                }

                // Normalize direction and apply speed
                const magnitude = Math.sqrt(this.dx * this.dx + this.dy * this.dy);
                this.dx = (this.dx / magnitude) * speed;
                this.dy = (this.dy / magnitude) * speed;

                this.x += this.dx;
                this.y += this.dy;

                this.element.style.left = `${this.x}px`;
                this.element.style.top = `${this.y}px`;
            }

            remove() {
                this.element.remove();
            }
        }

        function createLogos() {
            // Remove existing logos
            logos.forEach(logo => logo.remove());
            logos = [];

            // Create new logos
            for (let i = 0; i < numLogos; i++) {
                logos.push(new Logo(i));
            }
        }

        function incrementCornerHit() {
            cornerHits++;
            cornerCounter.textContent = cornerHits;

            // Animate counter
            cornerCounter.classList.remove('corner-hit');
            void cornerCounter.offsetWidth; // Trigger reflow
            cornerCounter.classList.add('corner-hit');

            // Show corner flash
            cornerFlash.classList.remove('hidden');
            setTimeout(() => {
                cornerFlash.classList.add('hidden');
            }, 500);

            // Flash screen edge
            screen.style.boxShadow = 'inset 0 0 50px rgba(255, 255, 255, 0.5)';
            setTimeout(() => {
                screen.style.boxShadow = 'none';
            }, 100);
        }

        function animate() {
            logos.forEach(logo => logo.move());
            requestAnimationFrame(animate);
        }

        // Event listeners
        speedSlider.addEventListener('input', (e) => {
            speed = parseInt(e.target.value);
        });

        logoSlider.addEventListener('input', (e) => {
            numLogos = parseInt(e.target.value);
            createLogos();
        });

        sizeSlider.addEventListener('input', (e) => {
            logoSize = parseInt(e.target.value);
            logos.forEach(logo => logo.updateColor());
        });

        resetBtn.addEventListener('click', () => {
            cornerHits = 0;
            cornerCounter.textContent = '0';
            createLogos();
        });

        toggleControls.addEventListener('click', () => {
            controls.classList.add('hidden');
            showControls.classList.remove('hidden');
        });

        showControls.addEventListener('click', () => {
            controls.classList.remove('hidden');
            showControls.classList.add('hidden');
        });

        // Handle window resize
        window.addEventListener('resize', () => {
            // Keep logos within bounds after resize
            const rect = screen.getBoundingClientRect();
            logos.forEach(logo => {
                if (logo.x + logo.width > rect.width) {
                    logo.x = rect.width - logo.width;
                }
                if (logo.y + logo.height > rect.height) {
                    logo.y = rect.height - logo.height;
                }
            });
        });

        // Click on a logo to redirect it randomly
        screen.addEventListener('click', (e) => {
            if (e.target.classList.contains('logo')) {
                const logo = logos.find(l => l.element === e.target);
                if (logo) {
                    const angle = Math.random() * Math.PI * 2;
                    logo.dx = Math.cos(angle) * speed;
                    logo.dy = Math.sin(angle) * speed;
                    logo.changeColor();
                }
            }
        });

        // Initialize
        createLogos();
        animate();

        // Hide controls after 5 seconds of inactivity
        let hideTimeout;
        function resetHideTimeout() {
            clearTimeout(hideTimeout);
            if (!controls.classList.contains('hidden')) {
                hideTimeout = setTimeout(() => {
                    controls.classList.add('hidden');
                    showControls.classList.remove('hidden');
                }, 5000);
            }
        }

        document.addEventListener('mousemove', resetHideTimeout);
        document.addEventListener('click', resetHideTimeout);
        resetHideTimeout();
    </script>
</body>

</html>